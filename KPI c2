Here‚Äôs a short, clean Roo prompt you can paste directly ‚Äî no fluff, no emojis, enterprise-safe:

‚∏ª

Roo Prompt:

Add KPI-driven filtering to the Market Facilities table.
Keep the original dataset unchanged and introduce a filtered dataset bound to the table.
On KPI click:
‚Äì ‚ÄúTotal Number of Market Facilities‚Äù resets the table to all records
‚Äì ‚ÄúMarket Facilities: Completed‚Äù filters rows where status === 'COMPLETE'
‚Äì ‚ÄúMarket Facilities: Pending‚Äù filters rows where status === 'PENDING'

Implement a single reusable applyStatusFilter(status) method in the component .ts.
Wire KPI cards using (click) handlers only.
Do not change existing table structure, column 
logic, or API calls.

step

Here‚Äôs a short, precise Roo prompt, aligned with your data reality (blank status = pending):

‚∏ª

Roo Prompt:

Update KPI logic to derive counts directly from the table dataset.

‚Äì ‚ÄúTotal Number of Market Facilities‚Äù should show the total count of all records
‚Äì ‚ÄúMarket Facilities: Completed‚Äù should count records where status === 'COMPLETE'
‚Äì ‚ÄúMarket Facilities: Pending‚Äù should count records where status is blank, null, or undefined

Compute these counts in the component .ts from the existing dataset (no hardcoded values).
Keep existing APIs, table structure, and column logic unchanged.
Ensure KPIs update automatically when the dataset changes.

‚∏ª

If you want, I can also give:
	‚Ä¢	an even shorter ultra-minimal version
	‚Ä¢	or a combined prompt (counts + click-to-filter behavior)

Just say which one.



step 3

Perfect ‚Äî this is exactly the kind of surgical Roo-style prompt you use when you don‚Äôt want anything else to break.
Below is a precise, enterprise-safe prompt you can paste directly into Roo / Copilot / internal AI.

No emojis, no fluff, no ambiguity.

‚∏ª

‚úÖ PRECISE SURGICAL PROMPT

You are working on an Angular enterprise dashboard table in the C4 CONTROLS AGENT project.

Objective
Make the Status column editable per row with exactly two values: COMPLETED and PENDING, and persist the change safely to the database.

Strict Constraints
	‚Ä¢	Do NOT change any existing business logic, KPI calculations, or KPI API calls.
	‚Ä¢	If a KPI API call or backend update endpoint does NOT exist for status update, create a new isolated update call without touching existing KPI services.
	‚Ä¢	Do NOT rename existing variables, methods, services, or components.
	‚Ä¢	Do NOT affect table pagination, sorting, filtering, or search behavior.
	‚Ä¢	Do NOT introduce any new side effects on dashboard load.

UI Requirements
	‚Ä¢	Status should display as plain text by default.
	‚Ä¢	On click, switch the cell into edit mode.
	‚Ä¢	Edit mode must show a dropdown with only COMPLETED and PENDING.
	‚Ä¢	Show Save and Cancel actions only when editing.
	‚Ä¢	Save must be disabled if value is unchanged.
	‚Ä¢	After successful save, update only the edited row in UI (no full table refresh).

Implementation Rules
	‚Ä¢	Use a per-row isEditing flag (local to the row object).
	‚Ä¢	Preserve existing table row structure.
	‚Ä¢	Use Angular two-way binding for edited value.
	‚Ä¢	Handle API errors gracefully and revert UI state on failure.

Backend Handling
	‚Ä¢	If an update API exists, reuse it without modification.
	‚Ä¢	If it does not exist, create:
	‚Ä¢	A new PUT endpoint strictly for status update
	‚Ä¢	A minimal SQL UPDATE statement scoped by facilityId
	‚Ä¢	Do NOT modify KPI aggregation queries.

Validation & Debugging
	‚Ä¢	Verify KPI values remain unchanged after status update.
	‚Ä¢	Verify no additional API calls are triggered on page load.
	‚Ä¢	Verify change detection updates only the edited row.
	‚Ä¢	Add console logs ONLY around status update flow for debugging.

Final Output
	‚Ä¢	Provide updated HTML, TypeScript, and CSS only where required.
	‚Ä¢	Highlight exactly what was added or modified.
	‚Ä¢	Ensure solution is production-safe and free of runtime errors.

‚∏ª

üß† Why this prompt works (important)
	‚Ä¢	Forces isolation from KPI logic
	‚Ä¢	Prevents accidental dashboard reloads
	‚Ä¢	Explicitly tells the AI to check if update API exists
	‚Ä¢	Enforces row-level mutation only
	‚Ä¢	Matches how your dashboard is already built

‚∏ª

If you want, next I can:
	‚Ä¢	Shorten this into a ‚Äúmedium prompt‚Äù
	‚Ä¢	Convert this into a backend-only prompt
	‚Ä¢	Tailor it exactly for PrimeNG p-table or Angular Material table

Just tell me which one.

