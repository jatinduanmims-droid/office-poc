<div class="dashboard-v2">

  <!-- OVERVIEW -->
  <section class="overview">
    <div class="kpi">
      <div class="kpi-value">120</div>
      <div class="kpi-label">Total Controls</div>
    </div>

    <div class="kpi success">
      <div class="kpi-value">107</div>
      <div class="kpi-label">Successful</div>
    </div>

    <div class="kpi danger">
      <div class="kpi-value">24</div>
      <div class="kpi-label">Unsuccessful</div>
    </div>

    <div class="kpi success">
      <div class="kpi-value">82%</div>
      <div class="kpi-label">SLA Met</div>
    </div>

    <div class="kpi danger">
      <div class="kpi-value">18%</div>
      <div class="kpi-label">SLA Breach</div>
    </div>
  </section>

  <!-- PERFORMANCE + FAILED -->
  <section class="row-2">

    <!-- CONTROLS PERFORMANCE -->
    <div class="card">
      <div class="card-header">
        ‚≠ê Controls Performance
      </div>

      <div class="progress-block">
        <label>Trade Controls</label>
        <div class="progress-bar">
          <div class="success" style="width: 82%"></div>
          <div class="danger" style="width: 18%"></div>
        </div>
        <span class="count">107 / 24</span>
      </div>

      <div class="progress-block">
        <label>Loan Controls</label>
        <div class="progress-bar">
          <div class="success" style="width: 81%"></div>
          <div class="danger" style="width: 19%"></div>
        </div>
        <span class="count">13 / 3</span>
      </div>

      <div class="progress-block">
        <label>Supply Chain Controls</label>
        <div class="progress-bar">
          <div class="success" style="width: 77%"></div>
          <div class="danger" style="width: 23%"></div>
        </div>
        <span class="count">17 / 5</span>
      </div>
    </div>

    <!-- FAILED CONTROLS -->
    <div class="card failed">
      <div class="card-header">
        Failed Controls (Today)
        <span class="badge">3</span>
      </div>

      <ul>
        <li *ngFor="let f of failedControlsToday">
          ‚ö† {{ f }}
        </li>
      </ul>
    </div>

  </section>

  <!-- SLA TREND -->
  <section class="card sla">

    <div class="sla-header">
      <h3>
        üìä SLA Trend for
        <span>{{ selectedControl?.name }}</span>
      </h3>

      <mat-form-field appearance="outline">
        <input matInput
               placeholder="Select control"
               [formControl]="searchControl"
               [matAutocomplete]="auto">
      </mat-form-field>

      <mat-autocomplete #auto="matAutocomplete"
                        (optionSelected)="onSelectControl($event.option.value)">
        <mat-option *ngFor="let c of filteredControls$ | async" [value]="c">
          {{ c.name }}
        </mat-option>
      </mat-autocomplete>
    </div>

    <canvas baseChart
            [data]="lineChartData"
            [options]="lineChartOptions"
            type="line">
    </canvas>

  </section>

</div>