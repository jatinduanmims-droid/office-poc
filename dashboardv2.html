<!-- KPI STRIP -->
<div class="kpi-strip">
  <div class="kpi">{{ totalControls }}<span>Total Controls</span></div>
  <div class="kpi success">{{ successful }}<span>Successful</span></div>
  <div class="kpi danger">{{ unsuccessful }}<span>Unsuccessful</span></div>
  <div class="kpi success">{{ slaMet }}%<span>SLA Met</span></div>
  <div class="kpi danger">{{ slaBreach }}%<span>SLA Breach</span></div>
</div>

<!-- CONTROLS PERFORMANCE -->
<div class="card">
  <h3>‚≠ê Controls Performance</h3>

  <div
    class="control-row"
    [class.selected]="selectedDomain==='TRADE'"
    (click)="applyDomain('TRADE')">
    Trade Controls
    <div class="bar">
      <div class="ok" style="width:70%"></div>
      <div class="bad" style="width:30%"></div>
    </div>
  </div>

  <div
    class="control-row"
    [class.selected]="selectedDomain==='LOAN'"
    (click)="applyDomain('LOAN')">
    Loan Controls
    <div class="bar">
      <div class="ok" style="width:65%"></div>
      <div class="bad" style="width:35%"></div>
    </div>
  </div>

  <div
    class="control-row"
    [class.selected]="selectedDomain==='SUPPLY'"
    (click)="applyDomain('SUPPLY')">
    Supply Chain Controls
    <div class="bar">
      <div class="ok" style="width:75%"></div>
      <div class="bad" style="width:25%"></div>
    </div>
  </div>
</div>

<!-- SLA TREND -->
<div class="card">
  <div class="sla-header">
    <h3>SLA Trend</h3>
    <select [(ngModel)]="selectedSlaControl" (change)="onSlaControlChange()">
      <option>Incoming Requests Management</option>
      <option>Documents Checking</option>
      <option>LC Maturity Follow-up</option>
    </select>
  </div>

  <div class="sla-chart">
    <canvas
      baseChart
      [data]="slaChartData"
      [options]="slaChartOptions"
      chartType="line">
    </canvas>
  </div>
</div>