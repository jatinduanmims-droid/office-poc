Perfect ğŸ‘
Below is the complete, clean, small, and precise prompt list â€” backend first, frontend next, in the exact order you should run them in Roo Code.

No fluff. No overlap. No ambiguity.
Each prompt does one job only.

â¸»

ğŸ”§ BACKEND PROMPTS (RUN FIRST)

â¸»

ğŸ”¹ BACKEND PROMPT 0 â€” Backend Awareness

Analyze the FastAPI backend and report:
- Where routes are defined
- Where SQL / DB access happens
- How Oracle VPD is enforced
- Existing helpers or repositories
Do not modify any code.


â¸»

ğŸ”¹ BACKEND PROMPT 1 â€” KPI Endpoint

Add a new endpoint:

GET /dashboard/kpis

Requirements:
- Do not modify existing endpoints
- Compute KPIs server-side using SQL aggregation
- Support optional date range filters
- Include comparison vs yesterday and last week

Return:
- Route code
- SQL queries
- Pydantic response schema


â¸»

ğŸ”¹ BACKEND PROMPT 2 â€” Trends Endpoint

Add a new endpoint:

GET /dashboard/trends

Requirements:
- Return aggregated time-series data
- Support groupBy: daily | weekly | monthly
- Support rangeDays (default 30, max 365)
- Do not return raw rows

Return:
- Route code
- SQL aggregation logic
- Response schema


â¸»

ğŸ”¹ BACKEND PROMPT 3 â€” Server-Side Table Endpoint

Add a new endpoint:

GET /dashboard/table

Requirements:
- Server-side pagination
- Server-side sorting
- Server-side filtering
- Never return full dataset
- Reuse existing Oracle views & VPD

Return:
- Route code
- SQL queries
- Pagination logic


â¸»

ğŸ”¹ BACKEND PROMPT 4 â€” Performance Review

Review dashboard-related queries and:
- Recommend missing indexes
- Identify slow queries
- Suggest safe caching
Ensure VPD is not affected.
Return recommendations only.


â¸»

ğŸ”¹ BACKEND PROMPT 5 â€” Backend Validation

Validate new dashboard endpoints by:
- Comparing KPI numbers vs legacy UI
- Checking for breaking changes
- Confirming performance targets

Return a validation checklist.


â¸»

ğŸ¨ FRONTEND PROMPTS (RUN AFTER BACKEND)

â¸»

ğŸ”¹ FRONTEND PROMPT 1 â€” Repo & Stack Awareness

Analyze the Angular setup and report:
- Angular version
- Angular Material usage
- Chart libraries installed
- API base URL configuration
Ignore UI components.


â¸»

ğŸ”¹ FRONTEND PROMPT 2 â€” New Frontend Shell

Create a new Angular app shell at src/app-v2.

Rules:
- Do not touch src/app
- Copy only core/, environments/, assets/

Generate:
- app-v2.module.ts
- app-v2-routing.module.ts

Routing:
'' â†’ dashboard (lazy-loaded)


â¸»

ğŸ”¹ FRONTEND PROMPT 3 â€” Root Routing Integration

Add a new lazy-loaded route:

/dashboard-v2 â†’ AppV2Module

Do not modify existing routes.
Return routing changes only.


â¸»

ğŸ”¹ FRONTEND PROMPT 4 â€” Dashboard Module

Create a clean dashboard module under:

src/app-v2/dashboard/

Generate:
- dashboard.module.ts
- dashboard-routing.module.ts
- dashboard-page.component.ts

Routing path: ''
No UI logic yet.


â¸»

ğŸ”¹ FRONTEND PROMPT 5 â€” API Models

Create TypeScript interfaces for:
- /dashboard/kpis
- /dashboard/trends
- /dashboard/table

Include query params and response types.
No UI code.


â¸»

ğŸ”¹ FRONTEND PROMPT 6 â€” Dashboard Service

Create dashboard.service.ts that calls:
- GET /dashboard/kpis
- GET /dashboard/trends
- GET /dashboard/table

Requirements:
- HttpClient
- RxJS Observables
- No client-side aggregation


â¸»

ğŸ”¹ FRONTEND PROMPT 7 â€” KPI Cards Component

Create KPI cards component.

Requirements:
- @Input() KPI data
- Value + % change
- Status color
- OnPush change detection
- No API calls


â¸»

ğŸ”¹ FRONTEND PROMPT 8 â€” Trend Chart Component

Create trend chart component.

Requirements:
- Uses aggregated trend data
- Range toggle: 7 / 30 / 90 / 365
- Events, Requests, SLA breaches
- Match installed chart library


â¸»

ğŸ”¹ FRONTEND PROMPT 9 â€” SLA Widget

Create SLA compliance widget.

Requirements:
- SLA met vs breached
- Percentage display
- Donut or gauge chart
- @Input() data only


â¸»

ğŸ”¹ FRONTEND PROMPT 10 â€” Breakdown Charts

Create reusable horizontal bar chart component.

Usage:
- Requests by Product
- Requests by Service

Emit click event for filtering.


â¸»

ğŸ”¹ FRONTEND PROMPT 11 â€” Controls Table

Create controls table component.

Requirements:
- Server-side pagination
- Server-side sorting
- Server-side filtering
- Uses /dashboard/table
- trackBy enabled


â¸»

ğŸ”¹ FRONTEND PROMPT 12 â€” Dashboard Composition

Compose dashboard-page.component with layout:

Row 1: KPI cards
Row 2: Trend chart + SLA widget
Row 3: Breakdown charts
Row 4: Controls table

One API call per section.


â¸»

ğŸ”¹ FRONTEND PROMPT 13 â€” Styling (V2 Only)

Create new styling system for app-v2:

src/styles-v2/
- tokens.scss
- layout.scss
- components.scss
- theme.scss

Add styles-v2 to angular.json.


â¸»

ğŸ”¹ FRONTEND PROMPT 14 â€” Performance Check

Review dashboard-v2 and ensure:
- OnPush everywhere
- async pipe usage
- No legacy endpoints used
- No large client-side processing

Return checklist.


â¸»

âœ… THIS NOW COVERS EVERYTHING

âœ” Backend improvements
âœ” Performance
âœ” Scalability
âœ” Clean UI rebuild
âœ” Safe migration
âœ” No legacy coupling

This is exactly how senior teams do phased rewrites.

If you want, next I can:
	â€¢	Convert this into a Notion / Jira task list
	â€¢	Or compress it into a one-page execution checklist

Just tell me 


Add a new FastAPI endpoint:

GET /dashboard/kpis

Rules:
- Add route in angular/api/main.py
- Use existing Oracle views (do not query base tables)
- Use utils_trans_db.py for DB execution
- Do not modify existing endpoints

Compute server-side using SQL:
- eventsToday (EMAIL_RECEIVEDTIME = today)
- requestsToday (OPERATION='Issue' AND EMAIL_RECEIVEDTIME = today)
- dueToday (SLA_DATE = today)
- dueNext5Days (SLA_DATE between today+1 and today+5)
- undefinedRequests (OPERATION IS NULL OR '')
- slaBreaches (USERSLAFETFLAG = 'N')

Also compute:
- Same KPIs for yesterday
- Same KPIs for last week

Return:
- Route code
- SQL queries
- Pydantic response schema
- Sample JSON response




